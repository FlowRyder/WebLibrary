<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Workshop</title>
    <link rel="stylesheet" href="css/workshop.css">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script>
        $(document).ready(function(){

            $("#add-author-button").click(function(){
                var authorName = $("input#authorName").val();
                $.ajax({
                    type: "POST",
                    url: "author",
                    data: { authorName: authorName },
                    dataType: "text",
                    success: function(data) {
                        alert(data.toString());
                    },
                    error: function(jqXHR,textStatus,errorThrown) {
                        console.log(jqXHR);
                        alert("Error report\n" + "jqXHR = " + jqXHR.status + "\n" + "textStatus = " + textStatus + "\n" +
                                "errorThrown =  " + errorThrown);
                    }
                });
            });

            $("#add-genre-button").click(function(){
                var genreName = $("input#genreName").val();
                $.ajax({
                    type: "POST",
                    url: "genre",
                    data: { genreName: genreName },
                    dataType: "text",
                    success: function(data) {
                        alert(data.toString());
                    },
                    error: function(jqXHR,textStatus,errorThrown) {
                        console.log(jqXHR);
                        alert("Error report\n" + "jqXHR = " + jqXHR.status + "\n" + "textStatus = " + textStatus + "\n" +
                                "errorThrown =  " + errorThrown);
                    }
                });
            });

            $("#add-book-button").click(function(){
                var bookName = $("input#bookName").val();
                var authorBook = $("input#authorBook").val();
                var genreBook = $("input#genreBook").val();
                $.ajax({
                    type: "POST",
                    url: "book",
                    data: { bookName: bookName, authorBook: authorBook, genreBook: genreBook },
                    dataType: "text",
                    success: function(data) {
                        alert(data.toString());
                    },
                    error: function(jqXHR,textStatus,errorThrown) {
                        console.log(jqXHR);
                        alert("Error report\n" + "jqXHR = " + jqXHR.status + "\n" + "textStatus = " + textStatus + "\n" +
                                "errorThrown =  " + errorThrown);
                    }
                });
            });

        });
    </script>
</head>
<body>
<h1>Would you like to</h1>
    <div class="add">
        <h2>Add objects to library</h2>


        <form>
            <button id="addAuthor" type="button">Add author</button>
        </form>
        <script>
            $(document).ready(function(){
                $("#addAuthor").click(function(){
                    $("#add_author").show();
                });
            });
        </script>
        <form id="add_author" style="display:none">
            <input type="text" id="authorName" placeholder="Enter new author name"/>
            <button id="add-author-button" class="add_button" type="submit">Add</button>
        </form>

        <form>
            <button id="addGenre" type="button">Add genre</button>
        </form>
        <script>
            $(document).ready(function(){
                $("#addGenre").click(function(){
                    $("#add_genre").show();
                });
            });
        </script>
        <form id="add_genre" style="display:none">
            <input type="text" id="genreName" placeholder="Enter new genre name"/>
            <button id="add-genre-button" class="add_button" type="submit">Add</button>
        </form>

        <form>
            <button id="addBook" type="button">Add book</button>
        </form>
        <script>
            $(document).ready(function(){
                $("#addBook").click(function(){
                    $("#add_book").show();
                });
            });
        </script>
        <form id="add_book" style="display:none">
            <input type="text" id="bookName" placeholder="Enter book name"/>
            <input type="text" id="authorBook" placeholder="Enter author name"/>
            <input type="text" id="genreBook" placeholder="Enter genre name"/>
            <button id="add-book-button" class="add_button" type="submit">Add</button>
        </form>

    </div>

</body>
</html>